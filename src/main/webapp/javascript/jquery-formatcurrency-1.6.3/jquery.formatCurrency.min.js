!function(n){n.formatCurrency={},n.formatCurrencyLive={},n.toNumber={};var s={colorize:!(n.asNumber={}),region:"",roundToDecimalPlace:2,minimumDecimalPlaces:9,eventOnDecimalsEntered:!1,suppressCurrencySymbol:!1,removeTrailingZerosOnDecimal:!1,parseAsFloat:!1},a={decPointCharCodes:[],formatOnBlur:!0,filterKeys:!0,formatOnType:!0},t={region:""},i={region:"",parse:!0,parseType:"Float"};function m(e,r){var t=e=e||{};return""!==(e=n.extend({},r,n.formatCurrency.regions[""],e)).region&&n.extend(e,function(e){var r=n.formatCurrency.regions[e];{if(r)return r;if(/(\w+)-(\w+)/g.test(e)){e=e.replace(/(\w+)-(\w+)/g,"$1");return n.formatCurrency.regions[e]}}return null}(e.region),t),e.suppressCurrencySymbol&&(e.symbol="",e.positiveFormat=n.trim(e.positiveFormat.replace("%s","")),e.negativeFormat=n.trim(e.negativeFormat.replace("%s","").replace(" %n","%n"))),-1<=e.roundToDecimalPlace?e.minimumDecimalPlaces=-1==e.roundToDecimalPlace||e.minimumDecimalPlaces>e.roundToDecimalPlace?e.roundToDecimalPlace:e.minimumDecimalPlaces:e.minimumDecimalPlaces=0,e.hasOwnProperty("parseType")&&(e.parseType=function(e){switch(e.toLowerCase()){case"int":return"Int";case"float":return"Float";default:throw"invalid parseType"}}(e.parseType)),e.regexArithmetic=new RegExp("[^\\d\\.\\-]","g"),""===e.symbol?e.regex=new RegExp("[^\\d"+e.decimalSymbol+"-]","g"):(t=e.symbol.replace("$","\\$").replace(".","\\."),e.regex=new RegExp(t+"|[^\\d"+e.decimalSymbol+"-]","g")),e.regexGroupDigit=new RegExp("\\"+e.digitGroupSymbol,"g"),e}function o(e,r){if(48<=e.which&&e.which<=57)return 1;if("keypress"==e.type&&e.which==r[0])return-1==e.target.value.indexOf(String.fromCharCode(r[0]));if("keypress"==e.type)return e.ctrlKey&&"A"==e.key.toUpperCase()||(e.which<32||33<=e.which&&e.which<=40||-1!=r[0]&&46==e.which);if("keyup"!=e.type)return 1;if(!(e.ctrlKey&&"A"==e.key.toUpperCase()||e.which<32||33<=e.which&&e.which<=40||-1==r[0]))switch(e.which){case 78:case r[2]:case r[1]:break;default:return 1}}n.formatCurrency.regions=[],n.formatCurrency.regions[""]={symbol:"$",positiveFormat:"%s%n",negativeFormat:"(%s%n)",decimalSymbol:".",digitGroupSymbol:",",groupDigits:!0},n.formatCurrencyLive.setDefaults=function(e){n.extend(a,e)},n.fn.formatCurrencyLive=function(t){return this.each(function(){var r,e=n(this);-2===(t=m(t,n.extend({},s,a,e.data("formatCurrency")?e.data("formatCurrency"):{}))).roundToDecimalPlace?t.decPointCharCodes=[-1,-1,-1]:","==t.decimalSymbol?t.decPointCharCodes=[44,188,110]:t.decPointCharCodes=[46,190,110],e.data("formatCurrency",t),t.filterKeys&&e.off("keypress.formatCurrency").on("keypress.formatCurrency",function(e){o(e,t.decPointCharCodes)||e.preventDefault()}),t.formatOnType&&(r=n.extend({},t,{roundToDecimalPlace:-1,removeTrailingZerosOnDecimal:!1}),e.off("keyup.formatCurrency").on("keyup.formatCurrency",function(e){o(e,t.decPointCharCodes)&&n(this).formatCurrency(r)})),t.formatOnBlur&&e.on("blur.formatCurrency",function(e){n(this).formatCurrency(t)}),n(this).formatCurrency(t)})},n.formatCurrency.setDefaults=function(e){n.extend(s,e)},n.formatCurrency.setAllDefaults=function(e){for(var r in e)s.hasOwnProperty(r)&&(s[r]=e[r]),a.hasOwnProperty(r)&&(a[r]=e[r]),t.hasOwnProperty(r)&&(t[r]=e[r]),i.hasOwnProperty(r)&&(i[r]=e[r])},n.fn.formatCurrency=function(a,i){return 1==arguments.length&&"string"!=typeof a&&(i=a,a=!1),i=n(this).data("formatCurrency")&&!i?n(this).data("formatCurrency"):i,this.each(function(){var e=n(this),r="0",r=e[e.is("input, select, textarea")?"val":"html"](),t=n.getFormattedCurrency(r,i,!0);i=t[4],e.data("fcMetadata",{hasDecimals:t[1],originalDecimals:t[2],isPositive:t[3]}),t&&(r=n([]),(r=a?n(a):e)[r.is("input, select, textarea")?"val":"html"](t[0]),t[1]&&i.eventOnDecimalsEntered&&0<t[2].length&&r.trigger("decimalsEntered",t[2]),i.colorize&&r.css("color",t[3]?"black":"red"))})},n.getFormattedCurrency=function(e,r,t){if((r=m(r,s)).parseAsFloat&&(c=parseFloat(e),e=isNaN(c)?e:c),""===(e=0<=(e="string"!=typeof e?e.toString().replace(".",r.decimalSymbol):e).search("\\(")?"-"+e:e)||"-"===e&&-1===r.roundToDecimalPlace)return t?[e,!1,"",!0,r]:"";e=(e=e.replace(r.symbol,"")).replace(r.regexGroupDigit,""),"."!=r.decimalSymbol&&(e=e.replace(r.decimalSymbol,".")),isNaN(e)&&((""===(e=e.replace(r.regexArithmetic,""))||"-"===e&&-1===r.roundToDecimalPlace)&&(e="0"),isNaN(e)&&(e="0"));var a=e==Math.abs(e);a||!0!==r.disableNegative||(a=!(e=0));var i=String(e).split("."),n=1<i.length&&-2<r.roundToDecimalPlace,o=n?i[1].toString():"0",c=n||"0"!=o?o:"";if(e=Math.abs(i[0]),e=isNaN(e)?0:e,0<=r.roundToDecimalPlace&&("2"==(o=(o=parseFloat("1."+o)).toFixed(r.roundToDecimalPlace)).substring(0,1)&&(e=Number(e)+1),o=o.substring(2)),e=String(e),r.groupDigits)for(var l=0;l<Math.floor((e.length-(1+l))/3);l++)e=e.substring(0,e.length-(4*l+3))+r.digitGroupSymbol+e.substring(e.length-(4*l+3));(n&&-1==r.roundToDecimalPlace||0<r.roundToDecimalPlace)&&(e+=0<(o=r.removeTrailingZerosOnDecimal&&(o=o.replace(/0+$/,"")).length<r.minimumDecimalPlaces?String(o+Array(r.minimumDecimalPlaces+1).join("0")).slice(0,r.minimumDecimalPlaces):o).length?r.decimalSymbol+o:"");o=a?r.positiveFormat:r.negativeFormat;return o=(o=o.replace(/%s/g,r.symbol)).replace(/%n/g,e),t?[o,n,c,a,r]:o},n.toNumber.setDefaults=function(e){n.extend(t,e)},n.fn.toNumber=function(r){return this.each(function(){var e=n(this).is("input, select, textarea")?"val":"html";n(this)[e](n.toNumber(n(this)[e](),r))})},n.toNumber=function(e,r){return r=m(r,t),e.replace("(","(-").replace(r.regex,"")},n.asNumber.setDefaults=function(e){n.extend(i,e)},n.fn.asNumber=function(e){var r=n(this).is("input, select, textarea")?"val":"html",r=n(this)[r]();return n.asNumber(r,e)},n.asNumber=function(e,r){return r=m(r,i),e=(e=(e=e||"").replace("(","(-")).replace(r.regex,""),r.parse?(0==e.length&&(e="0"),"."!=r.decimalSymbol&&(e=e.replace(r.decimalSymbol,".")),window["parse"+r.parseType](e)):e}}(jQuery);